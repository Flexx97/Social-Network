(this["webpackJsonpit-react-kabzda-1"]=this["webpackJsonpit-react-kabzda-1"]||[]).push([[0],{10:function(e,t,a){e.exports={message:"Dialogs_message__3AC4Y",active:"Dialogs_active__2E0jx",dialogs:"Dialogs_dialogs__352bg",dialog:"Dialogs_dialog__23Eoq",chats:"Dialogs_chats__32Bm0",send:"Dialogs_send__2F9xy",btn:"Dialogs_btn__1YHVM"}},13:function(e,t,a){e.exports={uBlock:"users_uBlock__32N58",avatar:"users_avatar__3c1ry",blockName:"users_blockName__85_SX",btn:"users_btn__28Nfk",number:"users_number__151KN",numberActive:"users_numberActive__nPGYg"}},23:function(e,t,a){e.exports={best:"BestFriends_best__1S-FN",decor:"BestFriends_decor__1DJmK",frpos:"BestFriends_frpos__3xBWG",img:"BestFriends_img__1nllb"}},24:function(e,t,a){e.exports={item:"Post_item__2OxKC",block:"Post_block__aBsxY",likely:"Post_likely__2z6NV",img:"Post_img__2Uoru"}},25:function(e,t,a){e.exports={myp:"myPosts_myp__3efv-",textarea:"myPosts_textarea__227XI",btn:"myPosts_btn__3Kk4N",post:"myPosts_post__14ouh"}},3:function(e,t,a){e.exports={nav:"nav-bar_nav__3sa2Y",item:"nav-bar_item__1qPG_",active:"nav-bar_active__2WyWO",best:"nav-bar_best__2K3__"}},45:function(e,t,a){e.exports=a.p+"static/media/user.65d84bf5.png"},46:function(e,t,a){e.exports=a.p+"static/media/audio.8f8f3d19.svg"},47:function(e,t,a){e.exports={avatar:"userinfo_avatar__2WOm7"}},48:function(e,t,a){e.exports={header:"header_header__2nDLm"}},49:function(e,t,a){e.exports=a(81)},55:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a(28),o=a(2),l={PostData:[{like:20,message:"Hi, how are you?"},{like:15486,message:"It's my first post"}],NewPostText:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0445\u043e\u0447\u0443 \u0432\u0430\u043c \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c...",profile:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TEXT_POST":return Object(o.a)({},e,{NewPostText:t.NewPostText});case"ADD_POST":var a={like:0,message:e.NewPostText};return Object(o.a)({},e,{PostData:[].concat(Object(c.a)(e.PostData),[a]),NewPostText:""});case"NEW_PROFILE":return Object(o.a)({},e,{profile:t.profile});default:return e}},u={Data:[{id:1,name:"Katya"},{id:2,name:"Fedor"},{id:3,name:"Alexey"}],MesData:[{message:"what are you doing"},{message:"You suck"}],updateMessage:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MESSAGE_TEXT":return Object(o.a)({},e,{updateMessage:t.newMessage});case"ADD_TEXT":return Object(o.a)({},e,{MesData:[].concat(Object(c.a)(e.MesData),[{message:e.updateMessage}]),updateMessage:""});default:return e}},p={NavBestFriends:[{name:"Katya",img:"https://www.meme-arsenal.com/memes/ae1d44253a861f53d95864dd37c55a78.jpg"},{name:"Stepa",img:"https://i.pinimg.com/736x/4a/bc/c0/4abcc00427dbb86ee5da8270b52204f8.jpg"},{name:"Vitya",img:"https://i.pinimg.com/originals/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64.jpg"}]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;arguments.length>1&&arguments[1];return e},d={users:[],pageNumber:1,PageSize:5,totalCount:50,loaded:!0,page:[1,2,3,4]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(o.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(o.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)({},e,{followed:!1}):e}))});case"SETUSERS":return Object(o.a)({},e,{users:t.users});case"CHANGEPAGE":return Object(o.a)({},e,{pageNumber:t.num});case"SET_TOTAL_COUNT":return Object(o.a)({},e,{totalCount:t.totalCount});case"UPDATEPAGE":return Object(o.a)({},e,{pageNumber:t.updateNumber});case"UPDATEPAGENUMBER":return Object(o.a)({},e,{page:void 0===t.newPage?e.page:t.newPage});case"TOGGLE_LOADING":return Object(o.a)({},e,{loaded:t.val});case"LOAD_USERS":return Object(o.a)({},e,{users:[]});default:return e}},E={userId:null,login:null,isAuth:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(o.a)({},e,{userId:t.userId,login:t.login,isAuth:!0});default:return e}},_=Object(s.b)({profilePage:i,messagePage:m,BestFriends:g,UsersPage:f,auth:b}),v=Object(s.c)(_),h=a(26),N=a.n(h),P=(a(55),a(3)),O=a.n(P),y=a(4),w=a(23),j=a.n(w),T=function(e){var t=e.FriendsWay.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:j.a.img,src:e.img}),r.a.createElement("div",null,e.name))}));return r.a.createElement("div",{className:j.a.best},r.a.createElement("div",{className:j.a.decor},"Best Friends"),r.a.createElement("div",{className:j.a.frpos},t))},A=a(5),D=Object(A.b)((function(e){return{FriendsWay:e.BestFriends.NavBestFriends}}),(function(e){return{changeFriends:function(t){e(g(t))}}}))(T),C=function(e){return r.a.createElement("nav",{className:O.a.nav},r.a.createElement(y.b,{to:"/profile",className:O.a.item,activeClassName:O.a.active},"Profile"),r.a.createElement(y.b,{to:"/dialogs",className:O.a.item,activeClassName:O.a.active},"Messages"),r.a.createElement(y.b,{to:"/users",className:O.a.item,activeClassName:O.a.active},"Users"),r.a.createElement(y.b,{to:"/news",className:O.a.item,activeClassName:O.a.active},"News"),r.a.createElement(y.b,{to:"/music",className:O.a.item,activeClassName:O.a.active},"Music"),r.a.createElement(y.b,{to:"settings",className:"".concat(O.a.item," ").concat(O.a.important),activeClassName:O.a.active},"Settings"),r.a.createElement("div",{className:"".concat(O.a.best," ").concat(O.a.item)},r.a.createElement(D,null)))},S=a(12),k=(a(60),function(){return r.a.createElement("div",null,r.a.createElement("p",null,"News"))}),U=(a(61),function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Music"))}),x=(a(62),function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Settings"))}),M=a(10),L=a.n(M),F=function(e){return r.a.createElement("div",{className:"".concat(L.a.dialog," ").concat(L.a.active)},r.a.createElement(y.b,{to:"/dialogs/"+e.id},e.name))},I=function(e){return r.a.createElement("div",{className:L.a.message},e.message)},W=function(e){var t=r.a.createRef(),a=e.Data.map((function(e){return r.a.createElement(F,{name:e.name,id:e.id})})),n=e.newMessageWay.map((function(e){return r.a.createElement(I,{message:e.message,id:e.id})}));return r.a.createElement("div",{className:L.a.message},r.a.createElement("div",{className:L.a.dialogs},a),r.a.createElement("div",{className:L.a.chats},n,r.a.createElement("div",null,r.a.createElement("textarea",{onChange:function(){var a=t.current.value;e.changeMessageWay(a)},ref:t,className:L.a.send,value:e.updateMessage}),r.a.createElement("button",{onClick:e.addMessageWay,className:L.a.btn},"send"))))},B=Object(A.b)((function(e){return{newMessageWay:e.messagePage.MesData,updateMessage:e.messagePage.updateMessage,Data:e.messagePage.Data}}),(function(e){return{addMessageWay:function(){e({type:"ADD_TEXT"})},changeMessageWay:function(t){e({type:"UPDATE_MESSAGE_TEXT",newMessage:t})}}}))(W),G=a(16),z=a(17),R=a(19),X=a(18),Y=a(20),K=a(13),H=a.n(K),V=a(45),J=a.n(V),q=function(e){var t=Math.ceil(e.totalCount/e.PageSize);return e.page.splice(3,1,t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){return function(){var t=e.pageNumber-1,a=e.page.map((function(e){return e-1}));e.ChangePage(t,a)}()}},"Next"),r.a.createElement("span",null,e.page.map((function(t){return r.a.createElement("span",{className:"".concat(t===e.pageNumber&&H.a.numberActive," ").concat(H.a.number),onClick:function(){e.ChangePage(t)}},t)}))),r.a.createElement("span",{onClick:function(){return function(){var t=e.pageNumber+1,a=e.page.map((function(e){return e+1}));e.ChangePage(t,a)}()}},"Next")),e.userState.map((function(t){return r.a.createElement("div",{className:H.a.uBlock,key:t.id},r.a.createElement(y.b,{to:"profile/".concat(t.id)},r.a.createElement("img",{src:null==t.photos.small?J.a:t.photos.small,className:H.a.avatar})),r.a.createElement("div",{className:H.a.blockName},r.a.createElement("h5",null,t.name),r.a.createElement("p",null,t.status)),t.followed?r.a.createElement("button",{onClick:function(){e.unfollow(t.id)},className:H.a.btn},"Unfollow"):r.a.createElement("button",{onClick:function(){e.follow(t.id)},className:H.a.btn},"Follow"))})))},Q=a(14),Z=a(46),$=a.n(Z),ee=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:$.a}))},te=function(e){function t(){var e,a;Object(G.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(R.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).ChangePage=function(e,t){a.props.usersLoad(),a.props.toggleLoad(!0),a.props.updateChangePage(e),a.props.updateNumberPage(t),Q.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(a.props.PageSize)).then((function(e){a.props.toggleLoad(!1),a.props.getSetUsers(e.data.items)}))},a}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.usersLoad(),this.props.toggleLoad(!0),Q.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.pageNumber,"&count=").concat(this.props.PageSize)).then((function(t){e.props.toggleLoad(!1),e.props.getSetUsers(t.data.items),e.props.setCountTotal(t.data.totalCount)}))}},{key:"render",value:function(){return r.a.createElement("div",null,!0===this.props.loaded?r.a.createElement(ee,null):null,r.a.createElement(q,{page:this.props.page,pageNumber:this.props.pageNumber,userState:this.props.userState,totalCount:this.props.totalCount,PageSize:this.props.PageSize,ChangePage:this.ChangePage,follow:this.props.follow,unfollow:this.props.unFollow,UpdateNumber:this.props.UpdateNumber}))}}]),t}(r.a.Component),ae=Object(A.b)((function(e){return{userState:e.UsersPage.users,pageNumber:e.UsersPage.pageNumber,PageSize:e.UsersPage.PageSize,totalCount:e.UsersPage.totalCount,page:e.UsersPage.page,loaded:e.UsersPage.loaded}}),{follow:function(e){return{type:"FOLLOW",userID:e}},unFollow:function(e){return{type:"UNFOLLOW",userID:e}},getSetUsers:function(e){return{type:"SETUSERS",users:e}},updateChangePage:function(e){return{type:"CHANGEPAGE",num:e}},setCountTotal:function(e){return{type:"SET_TOTAL_COUNT",totalCount:e}},pageUpdate:function(e){return{type:"UPDATEPAGE",updateNumber:e}},updateNumberPage:function(e){return{type:"UPDATEPAGENUMBER",newPage:e}},toggleLoad:function(e){return{type:"TOGGLE_LOADING",val:e}},usersLoad:function(){return{type:"LOAD_USERS"}}})(te),ne=(a(80),a(47)),re=a.n(ne),se=function(e){return e.userProfile?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:re.a.avatar},r.a.createElement("img",{src:e.userProfile.photos.small,height:"100px",width:"100px"}),r.a.createElement("div",null,e.userProfile.fullName)))):r.a.createElement(ee,null)},ce=a(24),oe=a.n(ce),le=function(e){return r.a.createElement("div",{className:oe.a.block},r.a.createElement("div",{className:oe.a.item},e.message),r.a.createElement("span",{className:oe.a.likely},r.a.createElement("img",{src:"https://1.bp.blogspot.com/-d3LozscUMBY/Vtz13aLffMI/AAAAAAAALp0/Y9pFym980s0/s1600/love.png",className:oe.a.img}),e.like))},ie=a(25),ue=a.n(ie),me=function(e){var t=e.newPostWay.map((function(e){return r.a.createElement(le,{message:e.message,like:e.like})})),a=r.a.createRef();return r.a.createElement("div",null,r.a.createElement("div",{className:ue.a.myp},r.a.createElement("div",null,"New posts"),r.a.createElement("textarea",{ref:a,className:ue.a.textarea,onChange:function(){var t=a.current.value;e.ChangeAction(t)},value:e.PostText}),r.a.createElement("button",{className:ue.a.btn,onClick:e.onAddPost},"send")),r.a.createElement("div",{className:ue.a.post},"My post"),t)},pe=Object(A.b)((function(e){return{newPostWay:e.profilePage.PostData,PostText:e.profilePage.NewPostText}}),(function(e){return{onAddPost:function(){e({type:"ADD_POST"})},ChangeAction:function(t){e(function(e){return{type:"UPDATE_TEXT_POST",NewPostText:e}}(t))}}}))(me),ge=function(e){return r.a.createElement("div",null,r.a.createElement(se,{userProfile:e.userProfile}),r.a.createElement(pe,{store:e.store}))},de=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t=t?this.props.match.params.userId:2,Q.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.props.profileUpdate(t.data)}))}},{key:"render",value:function(){return r.a.createElement(ge,this.props)}}]),t}(r.a.Component),fe=Object(A.b)((function(e){return{userProfile:e.profilePage.profile}}),{profileUpdate:function(e){return{type:"NEW_PROFILE",profile:e}}})(Object(S.e)(de)),Ee=a(48),be=a.n(Ee),_e=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:be.a.header},e.login))},ve=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.get("https://social-network.samuraijs.com/api/1.0/profile/auth/me",{withCredentials:!0,credentials:"include",referrerPolicy:origin}).then((function(t){e.props.setUserState(t.data.data.userId,t.data.data.login)}))}},{key:"render",value:function(){return r.a.createElement(_e,this.props)}}]),t}(r.a.Component),he=Object(A.b)((function(e){}),{setUserState:function(e,t){return{type:"SET_USER",userId:e,login:t}}})(ve),Ne=function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(he,null),r.a.createElement(C,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(S.a,{path:"/dialogs",render:function(){return r.a.createElement(B,null)}}),r.a.createElement(S.a,{path:"/profile/:userId?",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(S.a,{path:"/users",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(S.a,{path:"/news",render:function(){return r.a.createElement(k,null)}}),r.a.createElement(S.a,{path:"/music",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(S.a,{path:"/settings",render:function(){return r.a.createElement(x,null)}}))))};N.a.render(r.a.createElement(y.a,null,r.a.createElement(A.a,{store:v},r.a.createElement(Ne,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.54bb3a44.chunk.js.map